import React, { useEffect, useRef } from "react";
import { gsap } from "gsap";

const paths = [
  "M2.01195 6.34689C2.13249 5.24892 3.1203 4.45656 4.21827 4.57711L22.1108 6.54153C23.2087 6.66207 24.0011 7.64988 23.8805 8.74785C23.76 9.84582 22.7722 10.6382 21.6742 10.5176L5.76979 8.77149L4.02364 24.6759C3.90309 25.7739 2.91528 26.5662 1.81731 26.4457C0.719341 26.3252 -0.0730189 25.3374 0.0475275 24.2394L2.01195 6.34689ZM106.5 72.5652L106.394 70.568L106.5 72.5652ZM198 6.56516L198.025 8.565L198 6.56516ZM386 6.56516L386.215 8.55361L386 6.56516ZM4 6.56516C5.56011 5.31374 5.56005 5.31366 5.5602 5.31385C5.56052 5.31426 5.56088 5.3147 5.56154 5.31552C5.56285 5.31715 5.565 5.31982 5.56797 5.32352C5.57392 5.33091 5.58319 5.34241 5.59575 5.35796C5.62087 5.38905 5.65914 5.43631 5.71033 5.49921C5.81272 5.62502 5.96677 5.81338 6.17058 6.06004C6.57821 6.55338 7.18483 7.27983 7.97521 8.2054C9.55613 10.0567 11.8714 12.7036 14.7993 15.8742C20.6577 22.2184 28.9557 30.645 38.7205 38.9869C48.4921 47.3346 59.6877 55.5588 71.3398 61.5332C83.0066 67.5151 94.9931 71.1706 106.394 70.568L106.5 72.5652L106.606 74.5624C94.2355 75.2162 81.5239 71.25 69.5148 65.0926C57.4909 58.9275 46.033 50.4947 36.1224 42.0282C26.2051 33.556 17.7923 25.0114 11.8606 18.5879C8.89337 15.3747 6.54366 12.6886 4.93339 10.803C4.12818 9.86002 3.50764 9.11697 3.08703 8.60793C2.87671 8.3534 2.71636 8.15735 2.60788 8.02404C2.55363 7.95739 2.51235 7.90642 2.48428 7.87167C2.47024 7.85429 2.4595 7.84097 2.4521 7.83177C2.44839 7.82717 2.44552 7.8236 2.44349 7.82106C2.44247 7.8198 2.44157 7.81868 2.44106 7.81804C2.44037 7.81719 2.43989 7.81659 4 6.56516ZM106.5 72.5652L106.394 70.568C127.301 69.4628 138.632 54.0163 150.617 37.7186C162.381 21.7216 174.81 4.86031 197.975 4.56532L198 6.56516L198.025 8.565C177.134 8.83104 165.813 23.8069 153.84 40.0883C142.088 56.0689 129.696 73.3419 106.606 74.5624L106.5 72.5652ZM198 6.56516L197.975 4.56532C221.576 4.26477 234.443 21.7569 246.605 38.1598C259.02 54.9042 270.735 70.5652 292 70.5652V72.5652V74.5652C268.411 74.5652 255.551 56.9406 243.392 40.5422C230.98 23.8023 219.274 8.29441 198.025 8.565L198 6.56516ZM292 72.5652V70.5652C313.326 70.5652 325.121 56.1426 337.516 40.1456C349.72 24.3957 362.504 7.09024 385.785 4.57672L386 6.56516L386.215 8.55361C364.901 10.8546 353.112 26.5492 340.678 42.5956C328.436 58.395 315.528 74.5652 292 74.5652V72.5652ZM386 6.56516L385.785 4.57672C399.708 3.0736 412.336 8.37297 423.792 16.4537C435.23 24.5208 445.715 35.5167 455.363 45.7099C465.107 56.0045 473.907 65.3723 482.175 70.6343C486.28 73.2465 490.085 74.731 493.662 74.8968C497.173 75.0595 500.664 73.9625 504.227 71.0224L505.5 72.5652L506.773 74.1079C502.526 77.6115 498.081 79.1059 493.477 78.8925C488.939 78.6822 484.45 76.8232 480.028 74.0089C471.243 68.4182 462.058 58.6021 452.458 48.4596C442.762 38.2157 432.544 27.5212 421.487 19.7224C410.45 11.9374 398.794 7.19553 386.215 8.55361L386 6.56516ZM505.5 72.5652L504.227 71.0224C519.848 58.1351 532.038 48.0788 544.227 38.0224C556.417 27.9661 568.606 17.9097 584.227 5.02242L585.5 6.56516L586.773 8.10791C571.152 20.9952 558.962 31.0516 546.773 41.1079C534.583 51.1643 522.394 61.2206 506.773 74.1079L505.5 72.5652ZM585.5 6.56516L584.227 5.02242C592.923 -2.15118 603.661 -0.92153 614.24 4.20414C624.823 9.33186 635.787 18.5785 645.635 28.4901C655.51 38.4291 664.385 49.1638 670.785 57.4011C673.987 61.5227 676.575 65.0258 678.363 67.5006C679.258 68.7382 679.952 69.719 680.425 70.3919C680.661 70.7284 680.841 70.9879 680.963 71.1641C681.024 71.2522 681.071 71.3194 681.102 71.3651C681.118 71.3879 681.13 71.4053 681.138 71.4172C681.142 71.4231 681.145 71.4277 681.147 71.4309C681.148 71.4325 681.149 71.4338 681.15 71.4346C681.15 71.4356 681.151 71.4362 679.5 72.5652C677.849 73.6941 677.849 73.694 677.849 73.6936C677.848 73.693 677.848 73.6923 677.847 73.6911C677.845 73.6887 677.843 73.6849 677.839 73.6798C677.832 73.6694 677.821 73.6536 677.807 73.6324C677.778 73.59 677.733 73.526 677.675 73.4413C677.557 73.2717 677.382 73.019 677.15 72.6896C676.688 72.0308 676.004 71.065 675.121 69.8435C673.356 67.4001 670.796 63.9347 667.627 59.8552C661.283 51.6901 652.517 41.0921 642.797 31.3093C633.05 21.499 622.466 12.6348 612.496 7.80387C602.521 2.9709 593.698 2.3942 586.773 8.10791L585.5 6.56516Z"
];

const DrawingLines = () => {
  const path1Ref = useRef(null);
  const path2Ref = useRef(null);

  useEffect(() => {
    const animatePath = (path, delay = 0) => {
      const length = path.getTotalLength();
      gsap.set(path, {
        strokeDasharray: length,
        strokeDashoffset: length
      });
      gsap.to(path, {
        strokeDashoffset: 0,
        duration: 2,
        delay,
        ease: "power2.inOut"
      });
    };

    animatePath(path1Ref.current, 0);
    animatePath(path2Ref.current, 0);
  }, []);

  return (
    <div className="w-[800px] h-[200px] bg-white relative overflow-hidden border border-gray-300">
      <svg
        width="100%"
        height="100%"
        viewBox="0 0 682 79"
        xmlns="http://www.w3.org/2000/svg"
        className="absolute top-0 left-0"
      >
        <path
          ref={path1Ref}
          d={paths[0]}
          fill="none"
          stroke="#000"
          strokeWidth="2"
        />
        <path
          ref={path2Ref}
          d={paths[0]}
          fill="none"
          stroke="#000"
          strokeWidth="2"
          transform="scale(-1,1) translate(-500,0)"
        />
      </svg>
    </div>
  );
};

export default DrawingLines;
